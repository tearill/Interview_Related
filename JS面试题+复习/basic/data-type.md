# æ•°æ®ç±»å‹  

## JS æ•°æ®ç±»å‹  
### JS åŸå§‹æ•°æ®ç±»å‹å’Œå¼•ç”¨æ•°æ®ç±»å‹
- åŸå§‹æ•°æ®ç±»å‹    
  1. boolean  
  2. null  
  3. undefined  
  4. number  
  5. string  
  6. symbol  
  7. bigint  
- å¼•ç”¨ç±»å‹  
  å¯¹è±¡ Object(åŒ…æ‹¬æ™®é€šå¯¹è±¡-Objectï¼Œæ•°ç»„å¯¹è±¡-Arrayï¼Œæ­£åˆ™å¯¹è±¡-RegExpï¼Œæ—¥æœŸå¯¹è±¡-Dateï¼Œæ•°å­¦å‡½æ•°-Mathï¼Œå‡½æ•°å¯¹è±¡-Function)  
- ä¸€æ®µç¨‹åº  
  ```js
  function test(person) {
    person.age = 20;
    person = {
      name: "Horace",
      age: 18
    }
    return person;
  } 
  const p1 = {
    name: "Bin",
    age: "19"
  }
  const p2 = test(p1);
  console.log(p1);
  console.log(p2);
  ```
  ç»“æœä¸ºï¼š`p1: {name: "Bin", age: "20"}   p2: { name: "Horace", age: "18" }`  
  å‡½æ•°ä¼ å‚çš„æ—¶å€™ä¼ é€’çš„æ˜¯å¯¹è±¡åœ¨å †ä¸­çš„å†…å­˜åœ°å€å€¼ï¼Œtest å‡½æ•°ä¸­çš„å®å‚ person æ˜¯å¯¹è±¡ p1 çš„å†…å­˜åœ°å€  
  è°ƒç”¨ person.age = 20 æ”¹å˜äº† p1 çš„å€¼ï¼Œä½†æ˜¯ person åœ¨åé¢çš„è¯­å¥è¢«æ”¹å˜äº†å˜æˆäº†å¦ä¸€å—å†…å­˜ç©ºé—´çš„åœ°å€ï¼Œå¹¶ä¸”åœ¨æœ€åå°†è¿™å¦ä¸€ä»½å†…å­˜åœ°å€ç©ºé—´çš„åœ°å€è¿”å›ï¼Œèµ‹ç»™äº† p2  

### null æ˜¯å¯¹è±¡å—  
  null ä¸æ˜¯å¯¹è±¡  
  è§£é‡Šï¼štypeof null ä¼šè¾“å‡º objectï¼Œä½† null æœ¬èº«ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™æ˜¯ JS å­˜åœ¨çš„ä¸€ä¸ªå†å²æ‚ ä¹…çš„ bugã€‚åœ¨ JS çš„æœ€åˆç‰ˆæœ¬ä¸­ä½¿ç”¨çš„æ˜¯ 32 ä½çš„ç³»ç»Ÿï¼Œä¸ºäº†æ€§èƒ½è€ƒè™‘ä½¿ç”¨ä½ä½å­˜å‚¨å˜é‡çš„ç±»å‹ä¿¡æ¯ï¼Œ000 å¼€å¤´ä»£è¡¨çš„æ˜¯å¯¹è±¡ï¼Œè€Œ null è¡¨ç¤ºä¸ºå…¨ç©ºï¼Œæ‰€ä»¥å°†å®ƒé”™è¯¯åœ°åˆ¤æ–­æˆäº† object  
  **è§£å†³ï¼š**å¯ä»¥ä½¿ç”¨ `Object.prototype.toString.call(null)` -> è¾“å‡º `[object Null]`  

  ### '1'.toString() ä¸ºä»€ä¹ˆå¯ä»¥è°ƒç”¨ï¼Ÿ  
  åœ¨ `'1'.toString()`è¿™æ¡è¯­å¥åœ°è¿è¡Œä¸­å‘ç”Ÿäº†ä»¥ä¸‹å‡ ä»¶äº‹æƒ…ï¼š  
  ```js
  var s = new Object('1');
  s.toString();
  s = null;
  ```
  **ç¬¬ä¸€æ­¥ï¼š**åˆ›å»º Object ç±»å®ä¾‹ -> ä¸ºä»€ä¹ˆä¸æ˜¯ String è€Œæ˜¯ Objectï¼Ÿ-> ç”±äº Symbol å’Œ BigInt åœ°å‡ºç°ï¼Œå¯¹å®ƒä»¬è°ƒç”¨ new éƒ½ä¼šæŠ¥é”™ï¼Œç›®å‰ ES6 è§„èŒƒä¹Ÿä¸å»ºè®®ç”¨ new æ¥åˆ›å»ºåŸºæœ¬ç±»å‹çš„åŒ…è£…ç±»  
  **ç¬¬äºŒæ­¥ï¼š**è°ƒç”¨å®ä¾‹æ–¹æ³• 
  **ç¬¬ä¸‰æ­¥ï¼š**æ‰§è¡Œå®Œæ–¹æ³•ç«‹å³é”€æ¯è¿™ä¸ªå®ä¾‹  

  æ•´ä¸ªè¿‡ç¨‹ä½“ç°äº†åŸºæœ¬åŒ…è£…ç±»å‹çš„æ€§è´¨ï¼Œè€ŒåŸºæœ¬åŒ…è£…ç±»å‹å±äºåŸºæœ¬æ•°æ®ç±»å‹ï¼ŒåŒ…æ‹¬ Booleanï¼ŒNumber å’Œ String  

### 0.1+0.2 ä¸ºä»€ä¹ˆä¸ç­‰äº 0.3ï¼Ÿ  
0.1 å’Œ 0.2 åœ¨è½¬æ¢æˆäºŒè¿›åˆ¶åä¼šæ— é™å¾ªç¯ï¼Œç”±äºæ ‡å‡†ä½æ•°çš„é™åˆ¶ï¼Œåé¢å¯¹äºçš„ä½æ•°ä¼šè¢«æˆªæ‰ï¼Œæ­¤æ—¶å°±å·²ç»å‡ºç°å¯ç²¾åº¦çš„æŸå¤±ï¼Œç›¸åŠ åå› ä¸ºæµ®ç‚¹æ•°å°æ•°ä½çš„é™åˆ¶è€Œé˜¶æ®µçš„äºŒè¿›åˆ¶æ•°å­—å†æ¬¡è½¬æ¢ä¸ºåè¿›åˆ¶å°±ä¼šå˜æˆ 0.300000000000004...  
å‚è€ƒèµ„æ–™ï¼šå†´ç¾½æ˜é‡‘æ–‡ç« ğŸ‘‰https://juejin.im/post/5e6ee1b5f265da5710439f21  

### BigInt  
BigIntï¼šES6 æ–°çš„æ•°æ®ç±»å‹ï¼Œå½“æ•´æ•°å€¼å¤§äº Number æ•°æ®ç±»å‹æ”¯æŒçš„èŒƒå›´(Number.MAX_SAFE_INTEGERï¼Œ æœ€å¤§æ˜¯ 2^53-1)ï¼ŒBigInt å¯ä»¥ä½¿å¾—ç¨‹åºå®‰å…¨åœ°å¯¹å¤§æ•´æ•°æ‰§è¡Œç®—æ•°æ“ä½œï¼Œè¡¨ç¤ºé«˜åˆ†è¾¨ç‡åœ°æ—¶é—´æˆ³ï¼Œä½¿ç”¨å¤§æ•´æ•° id ç­‰  
- BigInt çš„å¿…è¦æ€§  
  åœ¨ JS ä¸­ï¼Œæ‰€æœ‰çš„æ•°å­—éƒ½ä»¥åŒç²¾åº¦ 64 ä½æµ®ç‚¹æ•°æ ¼å¼è¡¨ç¤ºï¼Œè¿™ä¼šå¯¼è‡´ JS ä¸­çš„ Number æ— æ³•ç²¾ç¡®çš„è¡¨ç¤ºéå¸¸å¤§çš„æ•´æ•°ï¼Œå®ƒä¼šå°†éå¸¸å¤§çš„æ•´æ•°å››èˆäº”å…¥ï¼ŒJS ä½¿ç”¨äº† IEEE754 æ ‡å‡†çš„åŒç²¾åº¦æµ®ç‚¹æ•°ï¼Œå¯ä»¥è¡¨ç¤ºçš„èŒƒå›´æ˜¯ -(2^53 - 1) ~ 2^53 - 1ï¼Œè¶…å‡ºè¿™ä¸ªèŒƒå›´çš„æ•´æ•°å€¼éƒ½å¯èƒ½ä¼šå¤±å»ç²¾åº¦  
  ä¾‹å¦‚ï¼š  
  `console.log(9999999999999999)` ä¼šè¾“å‡º 10000000000000000  
  `9007199254740992 === 9007199254740993` ä¼šè¾“å‡º true -> å®‰å…¨æ€§é—®é¢˜  
- åˆ›å»ºå¹¶ä½¿ç”¨ BigInt  
  1. åœ¨æ•°å­—çš„æœ«å°¾åŠ ä¸€ä¸ª n  
    `console.log(9007199254740995n)` -> è¾“å‡º 9007199254740995n  
    `console.log(9007199254740995)` -> ä¸ä½¿ç”¨çš„æ—¶å€™è¾“å‡º 9007199254740996  
  2. æ„é€ å‡½æ•°  
    `BigInt(9007199254740995)` 
- æ³¨æ„çš„ç‚¹  
  1. BigInt ä¸æ”¯æŒåŠ å·è¿ç®—ç¬¦ï¼Œå¯èƒ½æ˜¯æŸäº›ç¨‹åºå¯èƒ½ä¾èµ–äº + å§‹ç»ˆç”Ÿæˆ Number çš„ä¸å˜é‡ï¼Œæˆ–è€…æŠ›å‡ºå¼‚å¸¸ï¼Œæ›´æ”¹ + çš„è¡Œä¸ºä¹Ÿä¼šç ´å [asm.js](http://www.ruanyifeng.com/blog/2017/09/asmjs_emscripten.html) ä»£ç   
  2. å› ä¸ºéšå¼ç±»å‹è½¬æ¢å¯èƒ½ä¼šä¸¢å¤±ä¿¡æ¯ã€‚æ‰€ä»¥ä¸å…è®¸åœ¨ BigInt å’Œ Number ä¹‹é—´è¿›è¡Œæ··åˆæ“ä½œã€‚å½“æ··åˆä½¿ç”¨å¤§æ•´æ•°å’Œæµ®ç‚¹æ•°çš„æ—¶å€™ï¼Œç»“æœå€¼å¯èƒ½æ— æ³•ç²¾ç¡®è¡¨ç¤º  
  3. ä¸èƒ½å°† BigInt ä¼ ç»™ Web API å’Œ å†…ç½®çš„ JS å‡½æ•°ï¼Œè¿™äº›å‡½æ•°éœ€è¦ä¸€ä¸ª Number ç±»å‹çš„æ•°å­—  
    ä¾‹å¦‚ï¼š`Math.max(2n, 4n, 6n)` -> TypeError  
  4. å½“ Boolean å’Œ BigInt ç±»å‹ç›¸é‡çš„æ—¶å€™ï¼ŒBigInt çš„å¤„ç†æ–¹å¼å’Œ Number ç±»ä¼¼ï¼Œåªè¦ä¸æ˜¯ 0nï¼ŒBigInt å°±ä¼šè¢«è®¤ä¸ºæ˜¯ true  
  5. å…ƒç´ éƒ½ä¸º BigInt çš„æ•°ç»„å¯ä»¥è¿›è¡Œ sort  
  6. BigInt å¯ä»¥æ­£å¸¸åœ°è¿›è¡Œä½è¿ç®—  

## JS ä¸­çš„æ•°æ®ç±»å‹æ£€æµ‹  
### typeof  
  1. å¯¹äºåŸå§‹ç±»å‹ï¼Œé™¤äº† null éƒ½å¯ä»¥è°ƒç”¨ typeof æ˜¾ç¤ºæ­£ç¡®çš„ç±»å‹  
    ```js
    typeof 1 -> 'number'  
    typeof '1' -> 'string'
    typeof undefined -> 'undefined'
    typeof true -> 'boolean'
    typeof Symbol() -> 'symbol'
    ```
  2. å¯¹äºå¼•ç”¨æ•°æ®ç±»å‹ï¼Œé™¤äº†å‡½æ•°ä¹‹å¤–ï¼Œéƒ½ä¼šæ˜¾ç¤º 'object'  
    ```js
    typeof {} -> 'object'
    typeof [] -> 'object'
    typeof console.log -> 'function'
    ```
typeof çš„æ–¹å¼å¯¹äºå¯¹è±¡çš„åˆ¤æ–­ä¸åˆé€‚ï¼Œé‡‡ç”¨ instanceof ä¼šæ›´å¥½ï¼Œinstanceof æ˜¯åŸºäºåŸå‹é“¾çš„æŸ¥è¯¢ï¼Œåªè¦å¤„äºåŸå‹é“¾ä¸­ï¼Œåˆ¤æ–­æ°¸è¿œä¸º true  
  ```js
  const Person = function() {}
  const p1 = new Person()
  p1 instanceof Person // true

  var str1 = 'hello world'
  str instanceof String // true
  ```

### instanceof å®ç°å¯¹åŸºæœ¬æ•°æ®ç±»å‹çš„æ£€æµ‹  
  instanceof ä¹Ÿå¯ä»¥å¯¹åŸºæœ¬æ•°æ®ç±»ç±»å‹è¿›è¡Œæ£€æµ‹  
  ```js
  class PrimitiveNumber {
    static [Symbol.hasInstance](x) {
      return typeof x === 'number'
    }
  }
  console.log(111 instanceof PrimitiveNumber) // true
  ```

### æ‰‹åŠ¨å®ç°ä¸€ä¸ª instanceof  
æ ¸å¿ƒï¼šåŸºäºåŸå‹é“¾å‘ä¸ŠæŸ¥æ‰¾ - è§ instanceof.js  

### Object.is å’Œ === çš„åŒºåˆ«  
Object åœ¨ä¸¥æ ¼ç­‰äºçš„åŸºç¡€ä¸Šä¿®äº†ä¸€äº›ç‰¹æ®Šæƒ…å†µä¸‹çš„å¤±è¯¯ï¼Œæ¯”å¦‚ +0 å’Œ -0  
æºç ï¼š--- è§ is.js  